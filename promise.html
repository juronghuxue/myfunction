<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>promise多请求并发处理</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<script>
		var promiseArray = [];
		promiseArray.push(promiseResove(1));
		promiseArray.push(promiseResove(3));
		promiseArray.push(promiseResove(2));

		// 将传入promise.all的数组进行遍历，如果catch住reject结果，
		// 直接返回，这样就可以在最后结果中将所有结果都获取到
		var handlePromise = Promise.all(promiseArray.map(function(promiseItem){
			return promiseItem.catch(function(err){
				return err;
			})
		}));
		handlePromise.then(function(values){
			console.log('all promise are resolved',values);
		}).catch(function(reason){
			console.log('promise reject failed reason',reason);
		});
	</script>
</body>
</html>